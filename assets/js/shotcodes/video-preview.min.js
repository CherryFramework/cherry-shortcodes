function onYouTubeIframeAPIReady(){"object"==typeof CHERRY_API.shortcode.video_preview&&CHERRY_API.shortcode.video_preview.init_youtube_player()}!function(e){"use strict";CHERRY_API.utilites.namespace("shortcode.video_preview"),CHERRY_API.shortcode.video_preview={wrap:".video-preview",play_on_hover:".play-on-hover",controls:".video-preview-controls",controls_visible:".controls-visible",button_play_pause:".play-pause",button_mute:".mute",video:"video",full_width_class:".full-width",youtube_players:{},init:function(){CHERRY_API.status.is_ready?(this.player_init(),this.init_youtube_player()):CHERRY_API.variable.$document.ready(e.proxy(this.player_init,this))},player_init:function(){var t=this;e(this.wrap).each(function(){var o=e(this),i=o.data("settings"),a=e(".cherry-video-poster",o);"youtube"!==i.type&&(CHERRY_API.variable.$window.on("resize.video_preview",e.proxy(t.resize,t)).trigger("resize.video_preview"),o.filter(t.full_width_class).on("load",t.video,e.proxy(t.resize,t)),this.getElementsByTagName("video")[0].addEventListener("pause",function(o){var i=e(o.target).parents(CHERRY_API.shortcode.video_preview.wrap),a=e(CHERRY_API.shortcode.video_preview.button_play_pause,i);t.chenge_style(a)},!0),this.getElementsByTagName("video")[0].addEventListener("play",function(o){var i=e(o.target).parents(CHERRY_API.shortcode.video_preview.wrap),a=e(CHERRY_API.shortcode.video_preview.button_play_pause,i);t.chenge_style(a)},!0)),"show"===i.control||"show-on-hover"===i.control?o.on("click",t.button_play_pause,t.play_stop).on("click",t.button_mute,t.muted).on("click",t.video,t.play_stop):"play-on-hover"===i.control&&o.on("mouseover",".video-inner-holder",t.play_stop).on("mouseout",".video-inner-holder",t.play_stop),"autoplay"===i.control&&(a[0]&&a.remove(),t.chenge_style(e(t.button_play_pause,o))),"no"!==i.muted&&t.chenge_style(e(t.button_mute,o)),o.on("click",".video-holder, iframe",t.remove_poster)})},init_youtube_player:function(){var t=this;e(this.wrap).each(function(){var o=e(this),i=o.data("settings");if("youtube"===i.type){var a=e(".youtube-player",o),r={id:a.attr("id"),video_id:a.data("video"),mute:"no"!==i.muted?!0:!1,loop:"no"!==i.loop?1:0,autoplay:"autoplay"===i.control?1:0,is_mobile:i.is_mobile,is_full_width:o.hasClass(t.full_width_class.replace(".",""))};t.add_youtube_player(r,t)}})},add_youtube_player:function(t,o){var i=new YT.Player(t.id,{width:"100%",playerVars:{autoplay:t.autoplay,showinfo:0,controls:0,loop:t.loop,iv_load_policy:3,disablekb:1,enablejsapi:0,html5:1,autohide:0,rel:0,playlist:t.video_id,"modestbranding ":1,showsearch:0},videoId:t.video_id,events:{onReady:function(i){{var a=i.target;e(a.f).parents(o.wrap)}CHERRY_API.variable.$window.trigger("resize.video_preview"),t.mute&&i.target.mute(),a.setPlaybackQuality("false"===t.is_mobile&&t.is_full_width?"hd1080":"large"),t.autoplay&&a.playVideo()},onStateChange:function(i){var a=e(i.target.f).parents(o.wrap),r=e(o.button_play_pause,a);0===i.data&&1!==t.loop,(0===i.data||1===i.data||2===i.data)&&o.chenge_style(r),CHERRY_API.shortcode.video_preview.remove_poster(a)}}});o.youtube_players[t.id]=i},play_stop:function(){{var t,o=e(this).parents(CHERRY_API.shortcode.video_preview.wrap),i=o.data("settings");e(CHERRY_API.shortcode.video_preview.button_play_pause,o)}if("youtube"===i.type){var a=e("iframe",o).attr("id");t=CHERRY_API.shortcode.video_preview.youtube_players[a],1===t.getPlayerState()?t.pauseVideo():t.playVideo()}else t=o.find("video")[0],t.paused?t.play():t.pause();CHERRY_API.shortcode.video_preview.remove_poster(o)},muted:function(){var t,o=e(this).parents(CHERRY_API.shortcode.video_preview.wrap),i=o.data("settings");if("youtube"===i.type){var a=e("iframe",o).attr("id");t=CHERRY_API.shortcode.video_preview.youtube_players[a],t.isMuted()?t.unMute():t.mute()}else t=e(this).parents(CHERRY_API.shortcode.video_preview.wrap).find("video")[0],t.muted=t.muted?!1:!0;CHERRY_API.shortcode.video_preview.chenge_style(e(this))},chenge_style:function(e){var t=e.data("class"),o=e.data("sub-class");e.toggleClass(t+" "+o)},remove_poster:function(t){var o=e(".cherry-video-poster",t);o[0]&&o.remove()},resize:function(){var t=this,o=e(t.wrap);o.each(function(){var o,i,a=e(this);a.hasClass(t.full_width_class.replace(".",""))&&(i=e(this).data("settings"),"youtube"===i.type?(o=e("iframe",a),e(".video-holder, iframe",a).height(o.width()/16*9)):(o=e("video",a),e(".video-holder",a).height(o.height())))})}},CHERRY_API.shortcode.video_preview.init()}(jQuery);